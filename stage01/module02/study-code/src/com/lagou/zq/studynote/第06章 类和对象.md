# 第06章 类和对象

[toc]

## 一. 面向对象编程

### 1. 面向对象编程的概念

- 万物皆对象
- 面向对象以属性和行为的观点去分析现实生活中的事物
- ==面向对象编程指先以面向对象的思想进行分析,然后使用面向对象的编程语言进行表达的过程(以后的编程中尝试以这种方式思考)==
  - c语言是纯面向过程编程的语言
  - c++语言是既面向过程又面向对象编程的语言
  - java语言是纯面向对象编程的语言
- 面向对象编程是软件产业化发展的需求
- 理解面向对象的思想精髓( 封装、继承、多态 ),至少掌握一种编程语言

## 二. 类和对象以及引用==(重中之重)==

### 1. 类和对象的概念

- 对象在现实生活中是指客观存在的实体，在Java语言中==对象体现为==内存空间中的一块==存储区域==。
- 类简单来说就是"分类"，是对具有相同特征和行为的多个对象的共性的抽象描述，在Java语言中体现为一种引用数据类型，类里面包含了描述特征/属性的成员变量以及描述行为的成员方法
- 类是用于构建对象的模板，对象的数据结构由定义它的类来决定
- 在Java语言中, 是先有类, 而后有对象, 在编程时是要先思考自己需要什么功能, 想象一个对象有这个功能, 能够完成这个功能的对象有着什么属性和行为, 然后提取这些属性和功能来编写类

### 2. 类的定义

- ```java
  class 类名 {
      类体;
  }
  ```

- 注意：通常情况下，当类名由多个单词组成时，要求每个单词首字母都要大写

### 3. 成员变量的定义

- ```java
  class 类名 {
      数据类型 成员变量名 = 初始值;
      //数据类型 成员变量名;//也可以是这样
      //成员变量没有赋值初始值时,是会赋值一个默认初始值的,所以这种情况下被调用也不会编译报错
      ...
  }
  ```
- 注意：当成员变量由多个单词组成时，通常要求从第二单词起每个单词的首字母都要大写（第一个单词都是小写）

- 成员变量的默认初始值

  - | 类型         | 类型             | 默认初始值                   |
    | ------------ | ---------------- | ---------------------------- |
    | 整数类型     | byte、short、int | 0                            |
    | 字符类型     | char             | 数值为0的对应的字符---空字符 |
    | 浮点数类型   | float、double    | 0.0                          |
    | 布尔类型     | boolean          | false                        |
    | 引用数据类型 | 所有引用数据类型 | null                         |


### 4. 对象的创建

- `new 类名();`
- 注意：
  - a. 当一个类定义完毕后, 可以使用new关键字来创建该类的对象,这个过程叫类的实例化
  - b. 创建对象的本质就是在内存空间的堆区申请一块存储区域,用于存放该对象独有的特征信息

### 5. 引用的定义

- 基本概念

  - a. 使用引用数据类型定义的变量叫做引用型变量，简称为”应用“
  - b. 引用变量主要用于记录对象在堆区中的内存地址信息, 便于下次访问

- 语法格式

  - ```java
    类名 引用变量名;
    引用变量名.成员变量名;
    ```



## 三. 成员方法==(重中之重)==

- ```java
  class 类名 {
      数据类型 成员变量名 = 初始值;
      //成员方法
      返回值类型 成员方法名(形式参数列表){
          成员方法体；
      }
      ...
  }
  ```
### 1. 返回值的详解
- 返回值主要是指从方法体内返回到方法体外的的数据内容
- 返回值类型是指返回值的数据类型, 可以是基本数据类型,也可以是引用数据类型
- 在方法体中使用return关键字可以返回具体的数据内容**并结束当前方法**(所以return语句要放在方法体的最后面)
- 当该方法不需要返回任何数据内容时, 则返回值类型写`void`即可.(void是个关键字)
  - return语句可以不写, 也可以写成`return;`

### 2. 成员方法名

成员方法名的命名规则跟成员变量的命名规则相同, 第一个单词的首字母小写,从第二个单词开始首字母大写

### 3. 形式参数的详解
- 形式参数主要用于将方法体外的数据内容引入到方法体内部

- 形式参数列表主要指多个形式参数组成的列表,语法格式如下

  - ```java
    数据类型 形参变量名1 , 数据类型 形参变量名2 , ...
    ```

- 若该方法不需要带入任何数据内容时, 则形参列表位置什么也不写

### 4. 方法体的详解

- 成员方法体是实现该方法功能的语句块
- 成员方法可以实现代码的重用, 简化代码

### 5. 方法的调用

- 引用变量名.成员方法名(实参列表);
- 实际参数列表主要用于对形式参数列表进行初始化操作, 因此参数的个数、类型以及顺序都要完全一致
- 实际参数可以是直接量、变量、表达式、方法的调用等。
- ==实际参数只是把自己的值赋值给了形式参数，参加方法体运算的是被赋值后的形式参数，实际参数不会参加方法体的运算==

### 6. 可变长参数

- ```java
  返回值类型 方法名(参数类型...参数名)
  ```

- 该方法参数部分指定的参数个数是可以改变的，也就是0 ~ n个

- ==一个方法的形参列表中只能声明一个可变长形参(可变长度的形式参数), 并且必须放到参数列表的末尾==

### 7. 局部变量

- 局部变量是在方法里声明的变量, 包括在方法名后面的括号里声明的形式参数和方法体中声明的变量
- 当方法体执行完毕 , 局部变量在内存上的存储区域就会被回收, 局部变量也就不在了
- 形式参数是局部变量，是在方法名后的括号里声明的
- 局部变量必须初始化，否则会编译报错

## 四、内存结构之栈区

- 栈区用于存放程序运行过程中所有的局部变量，一个Java程序的运行从开始到结束会有多次方法的调用
- JVM会为每一个方法的调用在栈区中分配一个对应的空间，这个空间称为该方法的==栈帧==。
  
  - 一个栈帧对应一个正在调用中的方法，栈帧中存储了该方法的参数、局部变量等数据
- 当某一个方法调用完成后，其对应的栈帧会被清除
