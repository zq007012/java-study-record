# 第05章 数组及数组的应用

[toc]

## 一. 一维数组

### 一维数组的基本概念

- Java程序中需要记录单个数据时,声明一个变量即可
- Java程序中记录多个类型相同的数据内容时,则声明一个一维数组即可, 一维数组本质上就是在内存空间中申请一段连续的存储单元.
- 数组是相同数据类型的多个元素的容器,元素按线性顺序排列,在Java程序中体现为一种引用数据类型
- 基本数据类型的数组保存的基本数据本身, **引用类型的数组保存的是元素对象的地址**

### 一维数组的声明方式

- 数据类型[] 数组名称 = new 数据类型[数组的长度]

  - ```java
    int[] arr1 = new int[5];
    int[] arr2 = {12,22,1,25,69};
    int[] arr3 = new int[]{12,22,1,25,69};
    ```

  - ```java
    //也可以将[]从类型放到变量名后面,这是从c语言承袭过来的,由于可读性差,易出错,所以建议不要使用
    //数据类型 数组名称[] = new 数据类型[数组的长度]
    int brr1[] = new int[5];
    int brr2[] = {12,22,1,25,69};
    int brr3[] = new int[]{12,22,1,25,69};
    ```

- 调用数组的length==属性==可以获取数组的长度

- 可以通过下标的方式访问数组中的每一个元素.需要注意的是: 数组的下标从0开始, 对于长度为n的数组, 下标的范围是0 ~ n-1.

- ![](%E7%AC%AC05%E7%AB%A0%20%E6%95%B0%E7%BB%84%E5%8F%8A%E6%95%B0%E7%BB%84%E7%9A%84%E5%BA%94%E7%94%A8.assets/01%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.png)

- **引用类型的数组中的元素保存的是对象的地址, 而非引用或对象本身**

  - ```java
            String str = "妮可·罗宾";
            String[] strs = new String[]{str};
            System.out.println(strs[0]);
            s1 = null;
            System.out.println(strs[0]);
    ```



### 数组的优缺点

#### 优点

可以通过下标(即索引)的方式访问指定位置的元素, 速度很快

#### 缺点

- 数组要求所有元素的的类型相同
- 数组要求内存空间连续, 且长度一旦确定就不能更改
- 增加或删除元素时可能需要移动大量的元素,效率低

## 二. 数据工具类的概念

java.util.Arrays类可以实行对数组中元素的遍历、查找、排序等操作

### 数组工具类的常用方法

| static String toString(int[] a)                    | 输出数组a中的内容                                            |
| -------------------------------------------------- | ------------------------------------------------------------ |
| static void fill(int[] a, int val)                 | 把数组a中的所有元素值赋值为val                               |
| static boolean equals(数组类型[] a, 数组类型[] a2) | 判断数组a和数组b中的元素和次序是否完全相同                   |
| static void sort(int[] a)                          | 对数组a中的元素进行从小到大的排序                            |
| static int binarySearch(int[] a, int key）         | ==使用的前提是这个数组已经排好序了,== 获得元素key在数组a中的位置(即下标) |
## 三. 内存结构之栈区和堆区

### 1. 栈区

栈区用于存放程序运行过程当中所有的局部变量.一个java程序的运行从开始到结束会有多个变量的声明

### 2. 堆区

JVM会在其内存空间中开辟一个称为"堆"的存储空间,这部分空间用于存储使用new关键字创建的数组和对象

## 四. 二维数组

### 1. 二维数组的概念

- ==二维数组本质上是一个一维数组，只不过二维数组的元素是一维数组的地址==

- ==所以一维数组有的性质二维数组都有==

  - ```java
    int[] brr1 = new int[3];
    System.out.println("brr1 = " + brr1);
    int[] brr2 = new int[4];
    System.out.println("brr2 = " + brr2);
    
    int[][] arrArr = new int[2][];
    arrArr[0] = brr1;
    arrArr[1] = brr2;
    System.out.println("arrArr[0] = " + arrArr[0]);
    System.out.println("arrArr[1] = " + arrArr[1]);
    /*
    brr1 =	  [I@6842775d
    brr2 =    [I@574caa3f
    arrArr[0] = [I@6842775d
    arrArr[1] = [I@574caa3f
    
    brr1的值与arrArr[0]的值相同说明它们指向的是同一个堆内存中的数组, 而brr1在声明时会在堆内存上开辟一块存储空间,这时arrArr还没有被声明出来,当arrArr被声明时会在堆内存上开辟一块新的存储空间,然后把brr1作为第一个元素,在堆内存中不会存在两块地址相同的存储空间,所以arrArr[0]存的不可能是brr的存储空间, 只会是brr的地址
    */
    ```

### 二维数组的声明和初始化方式

- ```java
  //数据类型[][] 二维数组的名称 = new 数据类型[元素个数][每个元素的长度];
  int[][] arrArr = new int[5][6];
  //数据类型[][] 二维数组的名称 = new 数据类型[元素个数][];
  int[][] arrArr1 = new int[5][];
  //数据类型[][] 二维数组的名称 = {数组1的变量名 ,...};
  int[] arr1 = new int[5];
  int[] arr2 = new int[6];
  int[] arr3 = new int[5];
  int[][] arrArr2 = {arr1 , arr2 , arr3};
  //数据类型[][] 二维数组的名称 = { {元素1,元素2, ...} , ...}
  int[][] arrArr3 = { {1, 2, 3, 4} , {32,6,5,9,8} , {8,9,8,9,6} };
  ```

- 获取二维数组中第m个元素的第n个元素

  - ```java
    //二维数组的名称[m][n]
    int[][] arrArr = new int[5][6];
    //给arrArr的第一个元素赋值
    int[] arr = new int[6];
    arr[0] = arr;
    
    //把arrArr第5个元素赋值给数组brr
    int[] brr = arr[4];
    
    //给arrArr第二个元素的第3个元素的赋值0
    arrArr[1][2] = 0;
    //把arrArr的第2个元素的第2个元素赋值给变量i
    int i = arr[1][1];
    ```